<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Interactive Hackerspace Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <style>
        #map {
            height: 600px;
            width: 100%;
        }
        .popup-content img {
            max-width: 200px;
            height: auto;
        }
    </style>
</head>
<body>
    <h1>Interactive Hackerspace Map</h1>
    <p>Cette carte interactive montre les hackerspaces à travers le monde, colorés en fonction de leur date de création. Cliquez sur les points pour plus d'informations.</p>
    <div id="map"></div>

    <script>
         // Data from the SPARQL query
        const data = [
    {
        itemLabel: "Hackstub",
        geo: [48.5781224, 7.7286614],
        countryLabel: "France",
        inception: "2012-01-01",
        website: "https://hackstub.eu/home/en",
    },
    {
        itemLabel: "backspace",
        geo: [49.9018897, 10.8926287],
        countryLabel: "Allemagne",
        inception: "2011-10-23",
        website: "https://www.hackerspace-bamberg.de/",
    },
    {
        itemLabel: "Le BIB",
        geo: [43.58599, 3.85273],
        countryLabel: "France",
        website: "https://lebib.org/",
    },
     {
        itemLabel: "Laboratoire Ouvert Lyonnais",
        geo: [45.773249444, 4.837236666],
        countryLabel: "France",
        inception: "2011-01-01",
        website: "https://labolyon.fr/",
    },
    {
        itemLabel: "Chaos Computer Club Hansestadt Hamburg",
        geo: [53.5585405, 9.9445404],
        countryLabel: "Allemagne",
        website: "https://hamburg.ccc.de/",
    },
    {
        itemLabel: "/tmp/lab",
        geo: [48.7549959, 2.4112338],
        countryLabel: "France",
        website: "https://www.tmplab.org",
    },
    {
        itemLabel: "Labomedia",
        geo: [47.9005296, 1.9137456],
        countryLabel: "France",
        website: "https://labomedia.org/",
    },
    {
        itemLabel: "Tetalab",
        geo: [43.62211, 1.43311],
        countryLabel: "France",
        website: "https://www.tetalab.org/",
    },
    {
        itemLabel: "London Hackspace",
        geo: [51.5539268, -0.2900229],
        countryLabel: "Royaume-Uni",
        inception: "2009-01-01",
        website: "http://london.hackspace.org.uk/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/London%20Hackspace%20Workshop.JPG",
    },
     {
        itemLabel: "Limehouse Labs",
        geo: [51.5120985, -0.033919],
        countryLabel: "Royaume-Uni",
        website: "https://www.limehouselabs.org/"
    },
    {
        itemLabel: "Open Garage",
        geo: [51.198497, 4.471978],
        countryLabel: "Belgique",
        website: "https://www.meetup.com/OpenGarage/"
    },
    {
        itemLabel: "Mothership HackerMoms",
        geo: [37.848936, -122.271748],
        countryLabel: "États-Unis",
        inception: "2011-01-01",
        website: "http://mothership.hackermoms.org"
    },
    {
        itemLabel: "Freies Labor",
        geo: [52.168954722, 9.978318888],
        countryLabel: "Allemagne",
        website: "https://www.freieslabor.org/"
    },
    {
        itemLabel: "Metalab",
        geo: [48.20941009, 16.35617494],
        countryLabel: "Autriche",
        inception: "2006-04-01",
        website: "https://metalab.at/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Metalab-Eingang.jpg"
    },
    {
        itemLabel: "Chaos Computer Club Berlin",
        geo: [52.52194, 13.38261],
        countryLabel: "Allemagne",
        inception: "1995-01-01",
        website: "https://berlin.ccc.de",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Chaos%20Computer%20Club%20Door%20Bell%20%285801386797%29.jpg"
    },
    {
        itemLabel: "fnordeingang",
        geo: [51.186111111, 6.6925],
        countryLabel: "Allemagne",
        inception: "2009-01-01",
        website: "https://fnordeingang.de/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/FNordeingang%20front.jpg"
    },
    {
        itemLabel: "Stratum 0",
        geo: [52.2785658, 10.5211247],
        countryLabel: "Allemagne",
        inception: "2011-07-23",
        website: "https://stratum0.org/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Stratum%200%20Warpcore%20frickelraum.jpg"
    },
    {
        itemLabel: "Segmentation Vault",
        geo: [48.205, 15.62444],
        countryLabel: "Autriche",
        inception: "2017-01-13",
        website: "https://segvault.space/"
    },
    {
        itemLabel: "Q121437617",
        geo: [54.08734, 12.12447],
        countryLabel: "Allemagne",
        website: "https://hack-hro.de/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Hackspace%20Rostock.jpg"
    },
    {
        itemLabel: "see-base",
        geo: [47.772509881, 9.199606776],
        countryLabel: "Allemagne",
        inception: "2015-09-01",
        website: "https://see-base.de/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Hackerspace%20see-base.jpg"
    },
    {
        itemLabel: "Turbine Brunnen",
        geo: [46.994777777, 8.6055],
        countryLabel: "Suisse",
        website: "http://www.turbine-brunnen.ch"
    },
    {
        itemLabel: "shackspace",
        geo: [48.77722222, 9.23555556],
        countryLabel: "Allemagne",
        inception: "2009-01-01",
        website: "https://www.shackspace.de/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/WP15%20Stuttgart%20Shackspace%201.jpg"
    },
    {
        itemLabel: "Malino hackerspace in Minsk",
        geo: [53.8729, 27.47797],
        countryLabel: "Biélorussie",
        inception: "2019-03-01",
        website: "https://hackerspace.by",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Team%20work%20in%20hackerspace.JPG"
    },
    {
        itemLabel: "Garoa Hacker Clube",
        geo: [-23.569444444, -46.699722222],
        countryLabel: "Brésil",
        inception: "2011-02-20",
        website: "https://garoa.net.br",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Wikiday%20no%20Garoa%20Hackerspace03.JPG"
    },
    {
        itemLabel: "nobreakspace",
        geo: [53.86875, 10.67133],
        countryLabel: "Allemagne",
        website: "https://chaotikum.org/nobreakspace/"
    },
    {
        itemLabel: "Munich Maker Lab",
        geo: [48.158861111, 11.550416666],
        countryLabel: "Allemagne",
        inception: "2014-02-01",
        website: "https://munichmakerlab.de"
    },
    {
        itemLabel: "Zentrum für Technikkultur Landau e.V.",
        geo: [49.193468767, 8.128648153],
        countryLabel: "Allemagne",
        website: "https://ztl.space/"
    },
    {
        itemLabel: "Polytechnischer Werkraum",
        geo: [50.8974715, 14.8043893],
        countryLabel: "Allemagne",
        inception: "2014-05-23",
        website: "https://werkraum.freiraumzittau.de/"
    },
    {
        itemLabel: "Toolbox Bodensee",
        geo: [47.71240915, 9.3995668],
        countryLabel: "Allemagne",
        inception: "2014-03-21",
        website: "https://toolbox-bodensee.de/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Toolbox-basteln.jpg"
    },
    {
        itemLabel: "Heart of Code",
        geo: [52.503508, 13.423823],
        countryLabel: "Allemagne",
        inception: "2016-01-01",
        website: "http://heartofcode.org/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/The%20dome%20of%20Heart%20of%20Code%20at%20the%2035C3.jpg"
    },
    {
        itemLabel: "Mozilla Community Space Taipei",
        geo: [25.0440809, 121.5322175],
        countryLabel: "Taïwan",
        inception: "2014-07-01",
        website: "https://moztw.org/space/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/OSM%20x%20Wikidata%20Taipei%20Meetup%20No.7.jpg"
    },
    {
        itemLabel: "57North Hacklab",
        geo: [57.1793321, -2.1130448],
        countryLabel: "Royaume-Uni",
        inception: "2013-09-01",
        website: "https://www.57north.org.uk/"
    },
    {
        itemLabel: "Hackerspace Rancho Electrónico",
        geo: [19.40864, -99.14103],
        countryLabel: "Mexique",
        website: "http://ranchoelectronico.org"
    },
    {
        itemLabel: "Chaos Computer Club Munich",
        geo: [48.153694444, 11.560805555],
        countryLabel: "Allemagne",
        inception: "2008-06-01",
        website: "https://muc.ccc.de"
    },
    {
        itemLabel: "Hacklabor",
        geo: [53.6011, 11.4183],
        countryLabel: "Allemagne",
        inception: "2016-02-26",
        website: "https://hacklabor.de/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Hacklabor%20zusehen%20durchs%20Fenster.jpg"
    },
    {
        itemLabel: "Olabi",
        geo: [-22.95249, -43.19576],
        countryLabel: "Brésil",
        website: "https://www.olabi.org.br/"
    },
    {
        itemLabel: "SDG Solution Space",
        geo: [46.22064, 6.14739],
        countryLabel: "Suisse",
        website: "https://sdgsolutionspace.org/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Mapathon%20Missing%20Maps%20au%20SDG%20Solution%20Space%20%28Gen%C3%A8ve%29%20en%20mars%202023.JPG"
    },
    {
        itemLabel: "Chattanooga Public Library",
        geo: [35.04436, -85.31081],
        countryLabel: "États-Unis",
        inception: "1905-01-01",
        website: "http://chattlibrary.org",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Chattanooga%20Public%20Library.jpg"
    },
    {
        itemLabel: "ACME Labs",
        geo: [52.020277777, 8.546111111],
        countryLabel: "Allemagne",
        inception: "2019-03-23",
        website: "https://acmelabs.space/"
    },
    {
        itemLabel: "Kiberpipa",
        geo: [46.056184, 14.503798],
        countryLabel: "Slovénie",
        inception: "2001-01-01",
        website: "http://www.kiberpipa.org"
    },
    {
        itemLabel: "c-base",
        geo: [52.512851826, 13.420625925],
        countryLabel: "Allemagne",
        inception: "1995-11-16",
        website: "https://www.c-base.org/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Wikimedia%20Conference%20Berlin%20-%20Developer%20meeting%20%287739"
    },
    {
        itemLabel: "LAB01",
        geo: [45.954479834, 5.345233534],
        countryLabel: "France",
        website: "http://www.lab01.fr/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/La%20porte%20du%20LAB01%20en%20avril%202022.jpg"
    },
    {
        itemLabel: "Hackerspace Bremen",
        geo: [53.081957, 8.805744],
        countryLabel: "Allemagne",
        inception: "2011-11-09",
        website: "https://www.hackerspace-bremen.de/"
    },
    {
        itemLabel: "brmlab",
        geo: [50.08346, 14.48032],
        countryLabel: "Tchéquie",
        website: "https://brmlab.cz/"
    },
    {
        itemLabel: "Association for Development of ‘do-it-yourself’ Culture – Makerspace",
        geo: [45.793226903, 15.955108915],
        countryLabel: "Croatie",
        inception: "2011-01-01",
        website: "https://radiona.org/"
    },
    {
        itemLabel: "Chaostreff Flensburg",
        geo: [54.8045, 9.42351],
        countryLabel: "Allemagne",
        inception: "2015-01-01",
        website: "https://chaostreff-flensburg.de"
    },
    {
        itemLabel: "Open Space Aarhus",
        geo: [56.1861506, 10.1885734],
        countryLabel: "Danemark",
        inception: "2010-01-01",
        website: "https://osaa.dk"
    },
    {
        itemLabel: "das Labor",
        geo: [51.480858, 7.208597],
        countryLabel: "Allemagne",
        inception: "2005-01-01",
        website: "https://das-labor.org/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Bochum%20das%20Labor%2006.jpg"
    },
    {
        itemLabel: "laboratoire ouvert villeurbannais",
        geo: [45.756335, 4.877765],
        countryLabel: "France",
        website: "https://labovilleurbanne.fr",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Le%20LOV%20%C3%A0%20Villeurbanne%20%28mai%202019%29.jpg"
    },
    {
        itemLabel: "/usr/space",
        geo: [47.92305, 16.21173],
        countryLabel: "Autriche",
        inception: "2017-05-01",
        website: "https://usrspace.at/"
    },
    {
        itemLabel: "Labitat",
        geo: [55.6763, 12.5455],
        countryLabel: "Danemark",
        inception: "2009-01-01"
    },
    {
        itemLabel: "Chaostreff Dortmund",
        geo: [51.527611111, 7.464944444],
        countryLabel: "Allemagne",
        website: "https://www.chaostreff-dortmund.de/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Ctdo%20DSC03785%20smial%20wp.jpg"
    },
    {
        itemLabel: "Green hackerspace in Minsk",
        geo: [53.9430181, 27.5977514],
        countryLabel: "Biélorussie",
        inception: "2014-05-01",
        website: "https://hackerspace.by/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Common%20atmosphere%20in%20hackerspace.JPG"
    },
    {
        itemLabel: "Omega verksted",
        geo: [63.418611111, 10.402047222],
        countryLabel: "Norvège",
        website: "https://omegav.no/"
    },
    {
        itemLabel: "DevLoL",
        geo: [48.305825, 14.283852],
        countryLabel: "Autriche",
        inception: "2012-10-18",
        website: "https://devlol.org/"
    },
    {
        itemLabel: "realraum",
        geo: [47.065611111, 15.450611111],
        countryLabel: "Autriche",
        inception: "2007-03-01",
        website: "https://r3.at",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Electronics%20Lab%20in%20realraum.jpg"
    },
    {
        itemLabel: "Makerspace Bonn",
        geo: [50.6981538, 7.14515],
        countryLabel: "Allemagne",
        inception: "2018-03-03",
        website: "https://makerspacebonn.de/"
    },
    {
        itemLabel: "Coredump",
        geo: [47.225086388, 8.833906388],
        countryLabel: "Suisse",
        inception: "2013-08-26",
        website: "https://www.coredump.ch/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Coredump%20Makerspace%20Platz.jpg"
    },
    {
        itemLabel: "Q118395553",
        geo: [22.76182, 120.3803],
        countryLabel: "Taïwan"
    },
    {
        itemLabel: "h´eck",
        geo: [49.27928, 7.03575],
        countryLabel: "Allemagne",
        website: "https://www.hacksaar.de/"
    },
    {
        itemLabel: "Errors Party",
        geo: [60.523822222, 5.225197222],
        countryLabel: "Norvège",
        inception: "1994-01-01",
        website: "https://errorsparty.no/"
    },
    {
        itemLabel: "AfRA",
        geo: [52.5082304, 13.4961132],
        countryLabel: "Allemagne",
        inception: "2013-06-29",
        website: "https://www.afra-berlin.de",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/AfRA%20%28Hackerspace%29%20in%20der%20Margaretenstra%C3%9Fe%2030%20in%20Berlin-Lichtenberg.jpg"
    },
    {
        itemLabel: "Hacker Dojo",
        geo: [37.396111111, -122.049166666],
        countryLabel: "États-Unis",
        inception: "2009-08-17",
        website: "http://www.hackerdojo.com/",
        image: "http://commons.wikimedia.org/wiki/Special:FilePath/Dojo855Front.jpg"
    },
    {
        itemLabel: "NYC Resistor",
        geo: [40.6837, -73.9816],
        countryLabel: "États-Unis",
        inception: "2008-01-01",
        website: "http://nycresistor.com/"
    },
        ];
    // Initialize the map
        const map = L.map('map').setView([20, 0], 2);

        // Add a base layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        // Function to determine marker color based on inception date
        function getColor(inception) {
            const year = new Date(inception).getFullYear();
            if (year < 2000) return 'purple';
            if (year < 2005) return 'blue';
            if (year < 2010) return 'red';
            if (year < 2015) return 'orange';
            if (year < 2020) return 'yellow';
            return 'green';
        }

        // Add markers to the map
        data.forEach(item => {
            const { itemLabel, geo, countryLabel, inception, website, image } = item;
            const color = getColor(inception);

            const marker = L.circleMarker(geo, {
                color: color,
                radius: 8,
                fillOpacity: 0.7
            }).addTo(map);

            const popupContent = `
                <div class="popup-content">
                    <h3>${itemLabel}</h3>
                    <p><strong>Country:</strong> ${countryLabel}</p>
                    <p><strong>Inception:</strong> ${inception}</p>
                    <p><a href="${website}" target="_blank">Website</a></p>
                    ${image ? `<img src="${image}" alt="${itemLabel}">` : ''}
                </div>
            `;
            marker.bindPopup(popupContent);
        });
    </script>
</body>
</html>

